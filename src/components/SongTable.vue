<template>    <n-table striped :bordered="false">        <tbody>        <tr>            <td></td>            <td>操作</td>            <td>标题</td>            <td v-if="needSinger">歌手</td>            <td>时间</td>        </tr>        <tr v-if="songList.length > 0" @dblclick="play(item)" v-for="(item, index) in songList"            :key="item.id">            <td>                <span v-if="playStore.playing.id === item.id">                    <n-icon v-if="playStore.isPause === true">                        <svg xmlns="http://www.w3.org/2000/svg"                             xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24">                            <path d="M7 9v6h4l5 5V4l-5 5H7z" fill="currentColor"></path>                        </svg>                    </n-icon>                    <n-icon color="#18a058"                            v-if="playStore.isPause === false">                        <svg xmlns="http://www.w3.org/2000/svg"                             xmlns:xlink="http://www.w3.org/1999/xlink"                             viewBox="0 0 24 24">                            <path                                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"                                fill="currentColor"></path>                        </svg>                    </n-icon>                </span>                <span v-else>                    {{ index + 1 }}                </span>            </td>            <td>                <n-button v-if="!item.isLove" @click="add(item)" text style="font-size: 20px">                    <n-icon>                        <svg xmlns="http://www.w3.org/2000/svg"                             xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">                            <path                                d="M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z"                                fill="none" stroke="currentColor" stroke-linecap="round"                                stroke-linejoin="round" stroke-width="32"></path>                        </svg>                    </n-icon>                </n-button>                <n-button v-else @click="remove(item)" color="#18a058" text style="font-size: 20px">                    <n-icon :component="HeartSharp"></n-icon>                </n-button>            </td>            <td>{{ item.name }}</td>            <td v-if="needSinger">                <span v-for="(singer, index) in item.singers">                    <span v-if="index !== 0"> / </span><span @click="toSingerDetail(singer.id)">{{ singer.name }}</span>                </span>            </td>            <td>{{ item.time }}</td>        </tr>        </tbody>    </n-table>    <n-empty v-if="songList.length === 0" description="无">    </n-empty></template><script>import {NTable, NButton, NIcon, NEmpty, useMessage} from 'naive-ui'import {usePlayStore} from '../store'import {HeartSharp} from '@vicons/ionicons5'import router from '../router'export default {    name: 'SongTable',    props: ['songList', 'needSinger'],    emits: ['init'],    setup(props, context){        let songs = props.songList        let playStore = usePlayStore()        let message = useMessage()        function remove(item) {            try {                playStore.remove(item.id)                let index = playStore.playList.indexOf(item)                console.log(index)                if (index !== -1) {                    playStore.playList[index].isLove = false                }                message.success('取消收藏成功')            }catch (e){                message.error('取消收藏失败')            }            context.emit('init')        }        function add(item) {            try {                playStore.add(item.id)                let index = playStore.playList.indexOf(item)                console.log(index)                if(index !== -1){                    playStore.playList[index].isLove = true                }                message.success('收藏成功')            } catch (e) {                message.error('收藏失败')            }            context.emit('init')        }        function play(item) {            playStore.play(songs, item)        }        function toSingerDetail(id){            router.push('/singerDetail/' + id)        }        return {            playStore,            remove,            add,            play,            toSingerDetail,            HeartSharp,        }    },    components: {        NTable,        NButton,        NIcon,        NEmpty,    }}</script><style scoped></style>