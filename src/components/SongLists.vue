<template>    <span class="span">共找到{{ total }}个歌单</span>    <n-space v-if="isLoading" justify="center">        <n-spin size="large"/>    </n-space>    <n-list v-else>        <div v-for="item in songLists" class="hover" :class="playStore.isDark ? ' dark-hover' : ''" @click="toSongList(item.id)">            <n-list-item>                <template #prefix>                    <n-image                        round                        width="60"                        :src="item.imgSrc">                    </n-image>                </template>                <n-thing content-style="margin-top: 10px;">                    <n-space justify="space-around">                        <span>{{ item.name }}</span>                        <span><span class="span">{{ item.songCount }}首 by</span> {{ item.user.username }}</span>                        <span class="span">{{ item.createTime.split('T')[0] }}</span>                    </n-space>                </n-thing>            </n-list-item>        </div>    </n-list>    <n-empty v-if="songLists.length === 0" description="无">    </n-empty>    <n-space v-if="total > 0" justify="center">        <n-pagination            v-model:page="page"            v-model:page-size="pageSize"            :page-count="totalPage"            show-size-picker            @update:page="updatePage"            @update:page-size="updatePageSize"            :page-sizes="[10, 20, 30, 40]"        />    </n-space></template><script>import {NList, NListItem, NThing, NSpace, NImage, NSpin, NPagination, NEmpty} from 'naive-ui'import router from '../router'import {onMounted, reactive, ref, watch} from 'vue'import request from '../utils/request'import {usePlayStore} from '../store'export default {    name: 'SongLists',    props: ['keyword'],    setup(props){        let isLoading = ref(true)        let page = ref(1)        let pageSize = ref(10)        let total = ref(0)        let totalPage = ref(0)        let songLists = reactive([])        let keyword = ref(props.keyword)        let playStore = usePlayStore()        function toSongList(id){            router.push('/songList/' + id)        }        onMounted(() => {            init()        })        watch(() => props.keyword, (newVal) => {            keyword.value = newVal;            init()        });        function init(){            isLoading.value = true            request.get(`/songList/search?keyword=${keyword.value}&pageSize=${pageSize.value}&pageNum=${page.value}`).then(res => {                if (res.data.code === 0) {                    console.log(res.data.data)                    songLists.splice(0, songLists.length)                    songLists.push(...res.data.data.records)                    page.value = res.data.data.current                    pageSize.value = res.data.data.size                    total.value = res.data.data.total                    totalPage.value = res.data.data.pages                    isLoading.value = false                }            })        }        function updatePage(value) {            page.value = value            init()        }        function updatePageSize(value) {            pageSize.value = value            init()        }        return {            page,            pageSize,            total,            totalPage,            isLoading,            songLists,            playStore,            toSongList,            updatePage,            updatePageSize,        }    },    components: {        NList,        NListItem,        NThing,        NSpace,        NImage,        NSpin,        NPagination,        NEmpty,    }}</script><style scoped>.hover:hover{    background-color: #dcdcdc;    cursor: pointer;}.dark-hover:hover{    background-color: #424244;}.dark-hover .n-image {    padding-left: 10px;}.hover .n-image{    padding-left: 10px;}.span{    color: #999a9c;}</style>