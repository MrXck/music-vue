<template>    <n-space vertical>        <n-layout>            <Header/>            <n-layout has-sider>                <n-layout-sider                    bordered                    collapse-mode="width"                    :collapsed-width="64"                    :width="240"                    :collapsed="collapsed"                    show-trigger                    @collapse="collapsed = true"                    @expand="collapsed = false"                >                    <n-menu                        v-model:value="activeKey"                        :collapsed="collapsed"                        :collapsed-width="64"                        :collapsed-icon-size="22"                        :options="menuOptions"                    />                </n-layout-sider>                <n-layout>                    <n-scrollbar style="height: calc(100vh - 56px - 80px)">                        <router-view/>                    </n-scrollbar>                </n-layout>            </n-layout>            <Audio/>        </n-layout>    </n-space></template><script>import {NIcon, NLayout, NMenu, NSpace, NLayoutSider, NScrollbar} from "naive-ui";import {h, ref, watch, onMounted, reactive} from 'vue'import {RouterLink, useRoute} from "vue-router";import {    List,    SparklesOutline,    HeartOutline,    MusicalNotesOutline,    StarOutline,} from "@vicons/ionicons5";import Header from './Header'import Audio from './Audio'import request from '../utils/request'import router from '../router'function renderIcon(icon) {    return () => h(NIcon, null, {default: () => h(icon)});}const menuOptions = reactive([    {        label: () => <RouterLink to='/discovery'>发现音乐</RouterLink>,        key: "/discovery",        icon: renderIcon(SparklesOutline)    },    // {    //     label: () => <RouterLink to='/songList'>推荐歌单</RouterLink>,    //     key: "/songList",    //     icon: renderIcon(List)    // },    // {    //     label: () => <RouterLink to='/newSong'>最新音乐</RouterLink>,    //     key: "/newSong",    //     icon: renderIcon(SparklesOutline)    // },    {        label: '收藏的歌单',        key: '',        icon: renderIcon(StarOutline),        children: [            {                label: () => <RouterLink to='/myLoveMusic'>我喜欢的音乐</RouterLink>,                key: '/myLoveMusic',                icon: renderIcon(HeartOutline)            },        ]    }]);export default {    name: 'Menu',    setup() {        let route = useRoute();        let activeKey = ref(route.path)        watch(() => route.path, (newVal) => {            activeKey.value = newVal;        });        function toSongList(id){            router.push("/songList/" + id)        }        onMounted(() => {            request.get('/songListCollect/getSongListCollect').then(res => {                if(res.data.code === 0){                    for (let i = 0; i < res.data.data.length; i++) {                        let menu = {                            label: () => <span onClick={()=> toSongList(res.data.data[i].id)}>{res.data.data[i].name}</span>,                            key: '/songList/' + res.data.data[i].id,                            icon: renderIcon(MusicalNotesOutline)                        }                        menuOptions[1].children.push(menu)                    }                }            })        })        return {            collapsed: ref(false),            menuOptions,            activeKey,        };    },    components:{        Audio,        Header,        NIcon,        NLayout,        NMenu,        NSpace,        NLayoutSider,        NScrollbar,    }}</script><style scoped></style>