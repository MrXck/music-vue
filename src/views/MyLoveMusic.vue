<template>    <div class="song-list">        <n-layout has-sider>            <n-scrollbar style="height: calc(100vh - 56px - 80px - 24px)">                <div class="list">                    <n-image                        width="240"                        :src="loveMusic"                        height="240"                    />                    <div class="song-list-detail">                        <div class="title">                            <n-tag type="success">                                歌单                            </n-tag>                            <span class="song-list-name">我喜欢的音乐</span>                        </div>                        <div class="author">                            <n-image                                width="24"                                :src="user === null ? null : user.avatar"                            />                            <span class="author-name">{{ user === null ? '' : user.username }}</span>                            <span class="create-time">{{ user === null ? '' : user.createTime.split('T')[0] }}创建</span>                        </div>                        <div class="option">                            <n-space>                                <n-button :disabled="songs.length === 0" @click="playAll" round size="medium" type="primary">                                    <n-icon>                                        <svg xmlns="http://www.w3.org/2000/svg"                                             xmlns:xlink="http://www.w3.org/1999/xlink"                                             viewBox="0 0 512 512">                                            <path                                                d="M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z"                                                fill="currentColor"></path>                                        </svg>                                    </n-icon>                                    播放全部                                </n-button>                                <n-button disabled round size="medium">                                    <n-icon>                                        <svg xmlns="http://www.w3.org/2000/svg"                                             xmlns:xlink="http://www.w3.org/1999/xlink"                                             viewBox="0 0 512 512">                                            <path                                                d="M480 208H308L256 48l-52 160H32l140 96l-54 160l138-100l138 100l-54-160z"                                                fill="none" stroke="currentColor" stroke-linejoin="round"                                                stroke-width="32"></path>                                        </svg>                                    </n-icon>                                    收藏                                </n-button><!--                                <n-button @click="copyToClipboard" round size="medium">--><!--                                    <n-icon>--><!--                                        <svg xmlns="http://www.w3.org/2000/svg"--><!--                                             xmlns:xlink="http://www.w3.org/1999/xlink"--><!--                                             viewBox="0 0 512 512">--><!--                                            <circle cx="128" cy="256" r="48" fill="none" stroke="currentColor"--><!--                                                    stroke-linecap="round" stroke-linejoin="round"--><!--                                                    stroke-width="32"></circle>--><!--                                            <circle cx="384" cy="112" r="48" fill="none" stroke="currentColor"--><!--                                                    stroke-linecap="round" stroke-linejoin="round"--><!--                                                    stroke-width="32"></circle>--><!--                                            <circle cx="384" cy="400" r="48" fill="none" stroke="currentColor"--><!--                                                    stroke-linecap="round" stroke-linejoin="round"--><!--                                                    stroke-width="32"></circle>--><!--                                            <path fill="none" stroke="currentColor" stroke-linecap="round"--><!--                                                  stroke-linejoin="round" stroke-width="32"--><!--                                                  d="M169.83 279.53l172.34 96.94"></path>--><!--                                            <path fill="none" stroke="currentColor" stroke-linecap="round"--><!--                                                  stroke-linejoin="round" stroke-width="32"--><!--                                                  d="M342.17 135.53l-172.34 96.94"></path>--><!--                                        </svg>--><!--                                    </n-icon>--><!--                                    分享--><!--                                </n-button>-->                            </n-space>                        </div>                        <div class="tag">                            <!--                            <span>标签:</span>-->                            <span>歌曲 : {{ songs.length }}</span>                        </div>                    </div>                </div>                <div class="content">                    <n-space justify="end">                        <n-input                            type="text"                            show-password-on="mousedown"                            placeholder="搜索歌曲"                            :maxlength="8"                            round                            size="small"                            @update:value="search"                        >                            <template #prefix>                                <n-icon :component="Search"/>                            </template>                        </n-input>                    </n-space>                    <n-tabs default-value="song-list" type="line">                        <n-tab-pane name="song-list" tab="歌曲列表">                            <n-table striped :bordered="false">                                <tbody>                                <tr>                                    <td></td>                                    <td>操作</td>                                    <td>标题</td>                                    <td>歌手</td>                                    <td>时间</td>                                </tr>                                <tr v-if="songList.length > 0" @dblclick="play(item)" v-for="(item, index) in songList" :key="item.id">                                    <td>                                        <span v-if="playStore.playing.id === item.id">                                            <n-icon v-if="playStore.isPause === true">                                                <svg xmlns="http://www.w3.org/2000/svg"                                                     xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24">                                                    <path d="M7 9v6h4l5 5V4l-5 5H7z" fill="currentColor"></path>                                                </svg>                                            </n-icon>                                            <n-icon color="#18a058"                                                    v-if="playStore.isPause === false">                                                <svg xmlns="http://www.w3.org/2000/svg"                                                     xmlns:xlink="http://www.w3.org/1999/xlink"                                                     viewBox="0 0 24 24">                                                    <path                                                        d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"                                                        fill="currentColor"></path>                                                </svg>                                            </n-icon>                                        </span>                                        <span v-else>                                            {{ index + 1 }}                                        </span>                                    </td>                                    <td>                                        <n-button @click="remove(item)" color="#18a058" text style="font-size: 20px">                                            <n-icon :component="HeartSharp"></n-icon>                                        </n-button>                                    </td>                                    <td>{{ item.name }}</td>                                    <td>                                        <span v-for="(singer, index) in item.singers">                                            <span v-if="index !== 0"> / </span><span>{{ singer.name }}</span>                                        </span>                                    </td>                                    <td>{{ item.time }}</td>                                </tr>                                </tbody>                            </n-table>                            <n-empty v-if="songList.length === 0" description="无">                            </n-empty>                        </n-tab-pane>                    </n-tabs>                </div>            </n-scrollbar>        </n-layout>    </div></template><script>import loveMusic from '../assets/loveMusic.jpg'import {onMounted, reactive, ref, computed} from 'vue'import {Search, HeartSharp} from '@vicons/ionicons5'import {    NLayout,    NLayoutSider,    NImage,    NGi,    NGrid,    NTag,    NButton,    NIcon,    NSpace,    NTabs,    NTabPane,    NTable,    NSpin,    NInput,    NPagination,    NScrollbar,    useMessage,    NEmpty,} from 'naive-ui'import request from '../utils/request'import {usePlayStore} from '../store'export default {    name: 'MyLoveMusic',    components: {        NLayout,        NLayoutSider,        NImage,        NGrid,        NGi,        NTag,        NButton,        NIcon,        NSpace,        NTabs,        NTabPane,        NTable,        NSpin,        NInput,        NPagination,        NScrollbar,        NEmpty,    },    setup() {        let songs = reactive([])        let isLoading = ref(true)        let page = ref(1)        let pageSize = ref(10)        let searchKey = ref('')        let message = useMessage()        let playStore = usePlayStore()        let user = JSON.parse(localStorage.getItem('user'))        let songList = computed(() => {            if(searchKey.value !== ''){                return songs.filter(item => {                    return item.name.indexOf(searchKey.value) !== -1                })            }else {                return songs            }        })        onMounted(() => {            init()        })        function init(){            request.get('/songCollect/getMyLoveMusic').then(res => {                if (res.data.code === 0) {                    songs.splice(0, songs.length)                    songs.push(...res.data.data)                    for (let i = 0; i < songs.length; i++) {                        let second = Math.floor(songs[i].time % 60)                        if (second.toString().length < 2) {                            second = '0' + second                        }                        songs[i].time = Math.floor(songs[i].time / 60) + ':' + second                    }                    isLoading.value = false                }            })        }        function playAll() {            playStore.play(songs, songs[0])        }        function play(item) {            playStore.play(songs, item)        }        function copyToClipboard() {            message.success(location.href)        }        function search(value){            searchKey.value = value        }        function remove(item){            playStore.remove(item.id)            songs.splice(songs.indexOf(item), 1)        }        return {            songs,            isLoading,            page,            pageSize,            playStore,            user,            songList,            playAll,            play,            copyToClipboard,            search,            remove,            Search,            HeartSharp,            loveMusic,        }    }}</script><style scoped>.song-list {    padding-left: 24px;    padding-top: 24px;    padding-right: 24px;}.song-list-detail {    display: flex;    padding-left: 36px;    flex-direction: column;}.song-list-detail .title {    display: flex;    align-items: center;}.list {    display: flex;}.author {    display: flex;    align-items: center;    padding-top: 10px;}.author .author-name {    padding: 0 10px;    color: #0ea5e9;}.n-image {    border-radius: 5px;}.option {    padding: 10px 0;}.tag {    display: flex;    flex-direction: column;}.song-list-name {    font-size: 24px;    font-weight: bold;    padding-left: 10px;}.content {    padding-top: 20px;}.author .n-image {    border-radius: 50%;}</style>