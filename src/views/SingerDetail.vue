<template>    <div class="song-list">        <n-layout has-sider>            <n-scrollbar style="height: calc(100vh - 56px - 80px - 24px)">                <div v-if="isLoading">                    <n-spin size="large"/>                </div>                <div v-else class="list">                    <n-image                        width="240"                        :src="singer.imgSrc"                        height="240"                        :fallback-src="notImage"                    />                    <div class="song-list-detail">                        <h2>{{singer.name}}</h2>                        <div class="tag">                            <span>单曲数 : {{ singer.songs.length }}</span>                        </div>                    </div>                </div>                <div class="content">                    <n-space justify="end">                        <n-input                            type="text"                            show-password-on="mousedown"                            placeholder="搜索歌曲"                            :maxlength="8"                            round                            size="small"                            @update:value="search"                        >                            <template #prefix>                                <n-icon :component="Search"/>                            </template>                        </n-input>                    </n-space>                    <n-tabs default-value="song-list" type="line">                        <n-tab-pane name="song-list" tab="歌曲列表">                            <SongTable :songList="songList" @init="initSongList" :needSinger="false"/>                        </n-tab-pane>                    </n-tabs>                </div>            </n-scrollbar>        </n-layout>    </div></template><script>import notImage from '../assets/notImage.jpg'import SongTable from '../components/SongTable'import {NLayout, NScrollbar, NImage, NTabs, NTabPane, NSpace, NSpin, NIcon, NInput} from 'naive-ui'import {Search, HeartSharp} from '@vicons/ionicons5'import {computed, onMounted, reactive, ref} from 'vue'import request from '../utils/request'import {useRoute} from 'vue-router'export default {    name: 'SingerDetail',    components: {        SongTable,        NLayout,        NInput,        NIcon,        NScrollbar,        NImage,        NTabs,        NTabPane,        NSpace,        NSpin,    },    setup(){        let singer = ref({songs: []})        let searchKey = ref('')        let route = useRoute()        let isLoading = ref(true)        let songList = computed(() => {            if (searchKey.value !== '') {                return singer.value.songs.filter(item => {                    return item.name.indexOf(searchKey.value) !== -1                })            } else {                return singer.value.songs            }        })        onMounted(() => {            init()        })        function init() {            request.get('/singer/' + route.params.id).then(res => {                if (res.data.code === 0) {                    singer.value = res.data.data.singer                    singer.value.songs = []                    singer.value.songs.splice(0, singer.value.songs.length)                    singer.value.songs.push(...res.data.data.songs)                    for (let i = 0; i < singer.value.songs.length; i++) {                        let second = Math.floor(singer.value.songs[i].time % 60)                        if (second.toString().length < 2) {                            second = '0' + second                        }                        singer.value.songs[i].time = Math.floor(singer.value.songs[i].time / 60) + ':' + second                    }                    isLoading.value = false                }            })        }        function search(value) {            searchKey.value = value        }        function initSongList() {            init()        }        return {            Search,            HeartSharp,            notImage,            singer,            searchKey,            isLoading,            songList,            search,            initSongList,        }    }}</script><style scoped>.song-list {    padding-left: 24px;    padding-top: 24px;    padding-right: 24px;}.list {    display: flex;}.song-list-detail {    display: flex;    padding-left: 36px;    flex-direction: column;}</style>